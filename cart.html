<!DOCTYPE html>
<html lang="en">
<head>
    <title>Rentogo</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="./logo_big.png">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body onload="get()">
    <div class="wrapper">
        <div class="nav">
          <div class="logo">REN<span style="color: #FF5733;">T</span>OGO</div>
    
          <div class="menu-links">
            <ul>
              <li><a href="http://localhost:8000/index" style="color: black;">Home</a></li>
              <li><a href="http://localhost:8000/rentyy" style="color: black;">Rent</a></li>
              <li><a href="http://localhost:8000/leases" style="color: black;">Lease</a></li>
              <li><a href="http://localhost:8000/serv" style="color: black;">Service Flyers</a></li>
              <li><a href="http://localhost:8000/policy" style="color: black;">About</a></li>
              <li><a href="http://localhost:8000/contact" style="color: black;">Contact</a></li>
            </ul>
          </div>
    
          <div class="search"><i class="fa fa-search"></i></div>
          <div class="search"><a href="./cart.html"><i class="fa fa-shopping-cart" style="color: #FF5733;"></i></a></div>
          <div class="cart"><a href="./login.html" style="color: black;"><i class="i fa fa-user"></i></a></div>
          </div>
    <div>
        <br><br>

<center><h1>My Cart   <i class="fa fa-shopping-bag" style="color: #FF5733;"></i></h1></center>
<br>
    <div id="result">
        
    </div>

</div>
        
       
</body>
<script>
     function get(){
        fetch('http://localhost:8000/cartt',{
            mode:'cors',
            method:'POST',
            headers:{
                'Content-type':'application/json'
            }
            
        })
        .then((e)=>{
            
            return e.json()  
        })
        .then(async(e1)=>
        {  
            
            if(e1.length!=0)
            {
    
            let temp ="" ;
            // Loop through each data and add a table row
            for(let d of e1)
            {
                temp +=`<center><hr style="border-color: #FF5733;width: 70%;"></center>
<br>
<div class="container-fluid">
    <div class="row" style="padding: 5%;">
        <div class="col-md-9" style="position: relative;">
            <div class="row">
                <div class="col-md-4">
                    <img src="${d.avatar}" alt="Error" style=" box-shadow: 20px 20px 50px #bc887d" width="70%" height="75%">
                </div>
                <div class="col-md-8">
                    <h1>Item:${d.category}</h1>
                    <h3>Price:${d.min_rent_per_day}</h3>
                    <br><br><br><br>
                </div>
                
                <center><hr style="border-color: black;width: 90%;"></center>
                <br>
            </div>
            
            
           
        </div>
    </div>`;
                
            }

        document.getElementById("result").innerHTML = temp;
        }
        else{
            document.getElementById("result").innerHTML = "No record found";
        }
          
        })
        .catch(async()=>{
            console.log("ERROR");
            result.innerHTML="ERROR";
        })
    }
</script>
</html>